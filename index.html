<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <script src="http://d3js.org/d3.v3.min.js"></script>
    <script src="http://dimplejs.org/dist/dimple.v2.0.0.min.js"></script>

    <style>
      h2 {
        text-align: center;
      }

      .axis line, .axis path {
        shape-rendering: crispEdges;
        stroke: black;
        fill: none;
      }
    </style>

    <script type="text/javascript">
      function draw(data) {

      var margin = {top: 25, right: 15, bottom: 60, left: 80}
          , width = 1400 - margin.left - margin.right
          , height = 900 - margin.top - margin.bottom;


      var x = d3.scale.linear()
              .domain([130, 250])
              .range([ 0, width ]);

      var y = d3.scale.linear()
              .domain([0, 600])
             	.range([ height, 0 ]);

      // Create SVG element
      var chart = d3.select("body")
            .append("svg")
            .attr("width", width + margin.right + margin.left )
            .attr("height", height + margin.top + margin.bottom)
            .attr("class","chart")

      var main = chart.append("g")
       	    .attr("transform", "translate(" + margin.left + "," + margin.top + ")")
       	    .attr("width", width)
       	    .attr("height", height)
       	    .attr("class", "main")

      var xAxis = d3.svg.axis()
      	.scale(x)
      	.orient("bottom");


      main.append("g")
	      .attr("transform", "translate(0," + height + ")")
	      .attr("class", "main axis date")
	      .call(xAxis);


      // x axis label
      main.append("text")
        .attr("class", "x label")
        .attr("transform",
              "translate(" + (width/2) + " ," +
                             (height + margin.top + 30) + ")")
        .attr("text-anchor", "middle")
        .text("Weight");


    // draw the y axis
      var yAxis = d3.svg.axis()
	      .scale(y)
	      .orient("left");

    main.append("g")
	      .attr("transform", "translate(0,0)")
	      .attr("class", "main axis date")
	      .call(yAxis);

    // y axis label

    main.append("text")
        .attr("transform", "rotate(-90)")
        .attr("y", 0 - margin.left)
        .attr("x",0 - (height / 2))
        .attr("dy", "1em")
        .style("text-anchor", "middle")
        .text("Home Runs");

    var g = main.append("svg:g");

    g.selectAll("scatter-dots")
        .data(data)
        .enter().append("svg:circle")
          .attr("cx", function (d,i) { return x(d["weight"]); } )
          .attr("cy", function (d) { return y(d["HR"]); } )
          .attr("r", 7);

    // chart title

    main.append("text")
        .attr("x", (width / 2))
        .attr("y", 0 - (margin.top / 2))
        .style("text-anchor", "middle")
        .style("font-size", "16px")
        .text("Home Runs vs Weight");

      };
    </script>
  </head>
<body>
  <script type="text/javascript">
  /*
    Load Data
    */
  d3.csv("baseball_data.csv", draw);
  </script>
</body>
</html>
